<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <meta name="author" content="Lucas Kohorst">
    <meta name="description" content="Lucas Kohorsts personal website">
    <meta name="keywords" content="blog,developer,personal">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Decentralizing your Website"/>
<meta name="twitter:description" content="IPFS &#43; ENS unsplash.com/photos/Q1p7bh3SHj8
When hosting a website usually you use a dedicated VPS like Digital Ocean, Linode, Google, or Amazon. After setting up your server you can register a domain at Google Domains or NameCheap. The last step is editing your DNS records to point your domain at your server. Now you can access your website by navigating to your domain name. However, there is a problem with this. Your VPS controls the hosting of your site and the domain name service you went with maintains control of your domain."/>

    <meta property="og:title" content="Decentralizing your Website" />
<meta property="og:description" content="IPFS &#43; ENS unsplash.com/photos/Q1p7bh3SHj8
When hosting a website usually you use a dedicated VPS like Digital Ocean, Linode, Google, or Amazon. After setting up your server you can register a domain at Google Domains or NameCheap. The last step is editing your DNS records to point your domain at your server. Now you can access your website by navigating to your domain name. However, there is a problem with this. Your VPS controls the hosting of your site and the domain name service you went with maintains control of your domain." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://www.lucaskohorts.com/posts/decentralizing-your-website/" />
<meta property="article:published_time" content="2020-01-13T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-01-13T00:00:00+00:00" />


    
      <base href="http://www.lucaskohorts.com/posts/decentralizing-your-website/">
    
    <title>
  Decentralizing your Website · Lucas Kohorst
</title>

    
      <link rel="canonical" href="http://www.lucaskohorts.com/posts/decentralizing-your-website/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="http://www.lucaskohorts.com/css/coder.min.a4f332213a21ce8eb521670c614470c58923aaaf385e2a73982c31dd7642decb.css" integrity="sha256-pPMyITohzo61IWcMYURwxYkjqq84XipzmCwx3XZC3ss=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="http://www.lucaskohorts.com/css/coder-dark.min.83a2010dac9f59f943b3004cd6c4f230507ad036da635d3621401d42ec4e2835.css" integrity="sha256-g6IBDayfWflDswBM1sTyMFB60DbaY102IUAdQuxOKDU=" crossorigin="anonymous" media="screen" />
      
    

    

    

    

    <link rel="icon" type="image/png" href="http://www.lucaskohorts.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="http://www.lucaskohorts.com/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.64.1" />
  </head>

  
  
    
  
  <body class="colorscheme-auto">
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="http://www.lucaskohorts.com/">
      Lucas Kohorst
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://www.lucaskohorts.com/posts/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="http://www.lucaskohorts.com/projects/">Projects</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Decentralizing your Website</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-01-13T00:00:00Z'>
                January 13, 2020
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              7-minute read
            </span>
          </div>
          
          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="http://www.lucaskohorts.com/tags/ipfs/">IPFS</a>
      <span class="separator">•</span>
    <a href="http://www.lucaskohorts.com/tags/ens/">ENS</a>
      <span class="separator">•</span>
    <a href="http://www.lucaskohorts.com/tags/blockchain/">Blockchain</a></div>

        </div>
      </header>

      <div>
        
        <h4 id="3cd5" class="graf graf--h4 graf-after--h3 graf--subtitle">IPFS + ENS</h4>
<p><img src="https://cdn-images-1.medium.com/max/800/1*JV-liQv_Va530pu6_5Qe4g.jpeg" alt=""></p>
<p><a href="https://unsplash.com/photos/Q1p7bh3SHj8">unsplash.com/photos/Q1p7bh3SHj8</a></p>
<p>When hosting a website usually you use a dedicated
<a href="https://en.wikipedia.org/wiki/Virtual_private_server">VPS</a> like
<a href="https://www.digitalocean.com/">Digital Ocean,</a>
<a href="https://www.linode.com/">Linode</a>,
<a href="https://cloud.google.com/appengine/">Google</a>, or
<a href="https://aws.amazon.com/">Amazon</a>. After setting up your server you can
register a domain at <a href="http://domains.google.com">Google Domains</a> or
<a href="https://www.namecheap.com/">NameCheap</a>. The last step is editing your
DNS records to point your domain at your server. Now you can access your
website by navigating to your domain name. However, there is a problem
with this. Your VPS controls the hosting of your site and the domain
name service you went with maintains control of your domain. What
happens if your VPS goes down or the company you are using is suddenly
blacklisted in your country? What if <a href="https://www.icann.org/">ICANN</a>
takes your domain from you? Or your domain name service shuts down?</p>
<p>While these are very unlikely they are important and get you thinking
about what would you do if you couldn’t host your website anymore or
your domain was taken away.</p>
<p>Using <a href="http://ipfs.io">IPFS (InterPlanetary File System)</a> and <a href="https://ens.domains/">ENS
(Ethereum Name Service)</a> you can host and serve
your website in a completely decentralized way.</p>
<p>IPFS is described as</p>
<blockquote>
<p>A peer-to-peer hypermedia protocol<br>
designed to make the web faster, safer, and more open</p>
</blockquote>
<p>You can think of IPFS as HTTP or like a CDN (Content Delivery Network).
It is a way of querying resources, except rather than the resources
being hosted at a few large data centers controlled by Google, Amazon,
etc. the files are decentralized and hosted across various nodes run by
anyone across the world.</p>
<p>HTTP looks up resources based on the URL, but IPFS uses hashes to look
up resources on its network.</p>
<p>An example of an IPFS hash is
QmS4ustL54uo8FzR9455qaxZwuMiUhyvMcX9Ba8nUH4uVv and can be accessed
through a gateway like
<a href="https://developers.cloudflare.com/distributed-web/ipfs-gateway/">Cloudfare</a>
such as
<a href="https://cloudflare-ipfs.com/ipfs/QmS4ustL54uo8FzR9455qaxZwuMiUhyvMcX9Ba8nUH4uVv">cloudflare-ipfs.com/ipfs/QmS4ustL54uo8FzR9455qaxZwuMiUhyvMcX9Ba8nUH4uVv</a>.</p>
<p>This hash points to the starting files for hosting your own IPFS Node
and as you can see it only shows links to other files.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*Tj2ydbAkh_p81sNqOdStxQ.png" alt=""></p>
<p>QmS4ustL54uo8FzR9455qaxZwuMiUhyvMcX9Ba8nUH4uVv</p>
<p>But an IPFS hash can also point to a website such as
<a href="http://tornado.cash">tornado.cash</a> (a crypto mixer) which just recently
was deployed to IPFS.</p>
<p>You can access it through the <a href="http://ipfs.io">ipfs.io</a> gateway
<a href="https://ipfs.io/ipfs/QmRvFZwyoJeMDCcdSiK15m7Vn2n1BFnz14WNwVxrhizzX5/">ipfs.io/ipfs/QmRvFZwyoJeMDCcdSiK15m7Vn2n1BFnz14WNwVxrhizzX5/</a>.</p>
<p>In summary, IPFS provides a few major benefits</p>
<p>✅ Decentralized Content Network</p>
<p>✅ Immutable</p>
<p>✅ Censorship Resistant</p>
<h3 id="6fa3" class="graf graf--h3 graf-after--p">Deploying to IPFS</h3>
<p>You can deploy your website to IPFS by starting your own node. First
download the <a href="https://dist.ipfs.io/#go-ipfs">IPFS go implementation</a>
then open a terminal and run</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ipfs daemon 
</code></pre></div><p>You should then see the following output</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">Initializing daemon...go-ipfs version: 0.4.22-Repo version: 7System version: amd64/darwinGolang version: go1.12.7Swarm listening on /ip4/127.0.0.1/tcp/4001Swarm listening on /ip4/192.168.1.7/tcp/4001Swarm listening on /ip6/::1/tcp/4001Swarm listening on /p2p-circuitSwarm announcing /ip4/127.0.0.1/tcp/4001Swarm announcing /ip4/192.168.1.7/tcp/4001Swarm announcing /ip6/::1/tcp/4001API server listening on /ip4/127.0.0.1/tcp/5001WebUI: http://127.0.0.1:5001/webuiGateway (readonly) server listening on /ip4/127.0.0.1/tcp/8080Daemon is ready
</code></pre></div><p>Now you are ready to pin your site</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ipfs add index.html
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">added QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu index.html6 B / 6 B [=========================================================] 100.00%
</code></pre></div><p>In order to ensure that your site stays on the network, you can pin it
to your local node</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">ipfs pin add QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu
</code></pre></div><div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">pinned QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu recursively
</code></pre></div><p>You can now navigate to the outputted hash through your gateway and see
your site
<a href="https://ipfs.io/ipfs/QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu">ipfs.io/ipfs/QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu</a></p>
<p>Pinning to your own node is great, however, what happens if your node
goes down or the file(s) you are hosting are deleted and your file(s)
are not yet propagated through the network.</p>
<p>A good rule of thumb is to add and pin your site to <strong>three</strong> IPFS
nodes. You could do this by creating your own <a href="https://cluster.ipfs.io/">IPFS
cluster</a> or by using a popular pinning service
that already has nodes set up. Such as <a href="https://pinata.cloud/">Pintra</a>
or <a href="https://temporal.cloud/">Temporal</a>.</p>
<p>For this example, we will be using Pintra. First, navigate to
<a href="https://pinata.cloud/">pintra.cloud</a>, sign up and navigate to the
upload tab</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*ZbKajoiBcd9v2C0kVOQ7pQ.png" alt=""></p>
<p><a href="https://pinata.cloud/pinataupload">pinata.cloud/pinataupload</a></p>
<p>Upload your single file or a directory for multiple files. You could
also pin the hash from when you added and pinned your file to your local
node to ensure that it propagates throughout the network.</p>
<p>If you are creating a web app with a framework such as React or Gatsby
you can upload your <code>build</code>{.markup&ndash;code .markup&ndash;p-code} or
<code>public</code>{.markup&ndash;code .markup&ndash;p-code} folder to Pintra. Or you can
check out <a href="https://github.com/ipfs-shipyard/ipfs-deploy">IPFS-Deploy</a> to
deploy your sites to IPFS in one line.</p>
<p>Now our site is hosted on the decentralized censorship-resistant IPFS
network but navigating to
<a href="https://ipfs.io/ipfs/QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu">ipfs.io/ipfs/QmY9cxiHqTFoWamkQVkpmmqzBrY3hCBEL2XNu3NtX74Fuu</a>
is very hard to remember, we need a domain name.</p>
<h3 id="82cd" class="graf graf--h3 graf-after--p">Registering an ENS domain name</h3>
<p>The <a href="http://ens.domains">Etheruem Name Service (ENS)</a> offers</p>
<blockquote>
<p>a secure &amp; decentralised way to address resources both on and off the
blockchain using simple, human-readable names.</p>
</blockquote>
<p>Rather than registering a domain name on a site like <a href="http://domains.google.com">Google
Domains</a>, ENS is a non-profit organization
that offers <code>.eth</code>{.markup&ndash;code .markup&ndash;p-code} domains that are
immutable and registered on the Ethereum blockchain.</p>
<p>The primary goal of <code>.eth</code>{.markup&ndash;code .markup&ndash;p-code} domains was to
make cryptocurrency address human readable. However, ENS added support
for linking your domain to an IPFS hash so when a <code>.eth</code>{.markup&ndash;code
.markup&ndash;p-code} domain is entered into your browser it will resolve to
your website on IPFS.</p>
<p>For example, my <code>.eth</code>{.markup&ndash;code .markup&ndash;p-code} domain is
<a href="http://kohorst.eth.link">kohorst.eth</a> if you type that domain into your
crypto wallet (if it has an ENS resolver) it will resolve to my ETH
address. More importantly, if you type <code>kohorst.eth/</code>{.markup&ndash;code
.markup&ndash;p-code} into your browser (if it has an ENS resolver like
<a href="http://brave.com">Brave</a>, if not you can type
<code>kohorst.eth.link</code>{.markup&ndash;code .markup&ndash;p-code} and it will resolve)
my personal website (hosted on IPFS) will resolve!</p>
<p>The first step is to purchase your ENS domain. Navigate to
<code>app.ens.domains</code>{.markup&ndash;code .markup&ndash;p-code} and search for your
domain name.</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*fx49kUSr59jsXbXQEKvl_g.png" alt=""></p>
<p>**Note:**you will need Ether and a Web3 compatible browser/extension in
order to purchase an ENS domain. I personally use
<a href="http://metamask.io">Metamask</a> and recommend
<a href="https://medium.com/openberry/getting-started-with-metamask-b9ac23a10c83">this</a>
tutorial on getting started.</p>
<p>Select how many years you would like to purchase the domain for and
follow the purchasing steps.</p>
<p>After your sign and verify your transaction you will have to wait while
the transaction is verified on the Etheruem blockchain. After the
transaction completes you can click on your domain to manage it.</p>
<p>It will look something like this</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*iC4djD89ViM_uU7wx2B60A.png" alt=""></p>
<p><a href="https://app.ens.domains/name/kohorst.eth">app.ens.domains/name/kohorst.eth</a></p>
<p>There is a lot that you can add to your ENS domain your ETH address
along with other cryptocurrencies like BTC or LTC, your email, Github or
even Twitter user names. Most importantly you can add your IPFS hash.</p>
<p>Click on the add button and under <code>Content</code>{.markup&ndash;code
.markup&ndash;p-code} add the IPFS hash of your website</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*8IvxiBsalLvJLiPFIHkn_A.png" alt=""></p>
<p>You will have to pay a
<a href="https://ethgasstation.info/blog/what-is-gas/">gas</a> fee for the content
to be written to the blockchain and after the transaction is verified
you should be able to navigate to <code>yourdomain.eth.link</code>{.markup&ndash;code
.markup&ndash;p-code} and view your IPFS website!</p>
<h3 id="f3fd" class="graf graf--h3 graf-after--p">IPFS and regular domain name services</h3>
<p>Don’t have any Ether or don’t want your domain to end
in <code>.eth</code>{.markup&ndash;code .markup&ndash;p-code}? You can point your traditional
DNS to your IPFS hash so that you can keep your <code>.com</code>{.markup&ndash;code
.markup&ndash;p-code} domain. You can read more about it
<a href="https://docs.ipfs.io/guides/concepts/dnslink/">here</a>.</p>
<p>On <a href="http://domains.google.com">Google Domains</a> in your DNS you will need
to register an A and AAAA record that points to the IP address of a IPFS
gateway. You can look up the IPv4 and IPv6 records for an IPFS gateway
(a good list of functioning gateways is available
<a href="https://ipfs.github.io/public-gateway-checker/">here</a>) using
<code>nslookup</code>{.markup&ndash;code .markup&ndash;p-code}.</p>
<p>I use the <code>ipfs.io</code>{.markup&ndash;code .markup&ndash;p-code} gateway its records
are</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">A    209.94.90.1AAAA 2602:fea2:2::1
</code></pre></div><p>Register these on your DNS and then create a TXT record with a <a href="http://dnslink.io/">dns
link</a> value like</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">&#34;dnslink=/ipfs/&lt;HASH&gt;&#34;
</code></pre></div><p><img src="https://cdn-images-1.medium.com/max/800/1*0DTo7rOQmYbeEg0-ycykxA.png" alt=""></p>
<p>DNS Records for <a href="http://lucaskohorst.com">lucakohorst.com</a></p>
<p>That&rsquo;s it! Now your domain will point to your IPFS website.</p>
<hr>
<p><a href="http://kohorst.eth.link/" title="http://kohorst.eth.link/"><strong>Lucas Kohorst</strong><br>
kohorst.eth</a>[](<a href="http://kohorst.eth.link/">http://kohorst.eth.link/</a>)</p>
<p><a href="http://ipfs.io/" title="http://ipfs.io/"><strong>IPFS Powers the Distributed Web</strong><br>
*IPFS aims to surpass HTTP in order to build a better web for all of us.
Today&rsquo;s web is inefficient and expensive
HTTP…*ipfs.io</a>[](<a href="http://ipfs.io/">http://ipfs.io/</a>)</p>
<p><a href="https://ens.domains/" title="https://ens.domains/"><strong>Ethereum Name Service</strong><br>
*ENS offers a secure &amp; decentralized way to address resources both on
and off the blockchain using
simple…*ens.domains</a>[](<a href="https://ens.domains/">https://ens.domains/</a>)</p>
<p><a href="https://pinata.cloud/" title="https://pinata.cloud/"><strong>Pinata - Add Files To IPFS Effortlessly</strong><br>
*Pinata simplifies decentralized storage with our easy IPFS API and
toolkit. Our IPFS pinning service improves
your…*pinata.cloud</a>[](<a href="https://pinata.cloud/">https://pinata.cloud/</a>)</p>
<p>By <a href="https://medium.com/@lucaskohorst">Lucas Kohorst</a> on <a href="https://medium.com/p/f5bca765f9ed">January 13,
2020</a>.</p>
<p><a href="https://medium.com/@lucaskohorst/decentralizing-your-website-f5bca765f9ed">Canonical
link</a></p>
<p>Exported from <a href="https://medium.com">Medium</a> on March 5, 2020.</p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      <footer class="footer">
  <section class="container">
    
    
    
    
  </section>
</footer>

    </main>

    

    

  </body>

</html>
